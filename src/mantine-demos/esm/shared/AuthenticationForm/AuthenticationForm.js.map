{"version":3,"file":"AuthenticationForm.js","sources":["../../../src/shared/AuthenticationForm/AuthenticationForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from '@mantine/form';\nimport { IconLock, IconAt } from '@tabler/icons-react';\nimport {\n  TextInput,\n  PasswordInput,\n  Group,\n  Checkbox,\n  Button,\n  Paper,\n  Text,\n  LoadingOverlay,\n  Anchor,\n} from '@mantine/core';\n\nexport interface AuthenticationFormProps {\n  noShadow?: boolean;\n  noPadding?: boolean;\n  noSubmit?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport function AuthenticationForm({\n  noShadow,\n  noPadding,\n  noSubmit,\n  style,\n}: AuthenticationFormProps) {\n  const [formType, setFormType] = useState<'register' | 'login'>('register');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const toggleFormType = () => {\n    setFormType((current) => (current === 'register' ? 'login' : 'register'));\n    setError(null);\n  };\n\n  const form = useForm({\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      termsOfService: true,\n    },\n  });\n\n  const handleSubmit = () => {\n    setLoading(true);\n    setError(null);\n    setTimeout(() => {\n      setLoading(false);\n      setError(\n        formType === 'register'\n          ? 'User with this email already exists'\n          : 'User with this email does not exist'\n      );\n    }, 3000);\n  };\n\n  return (\n    <Paper\n      p={noPadding ? 0 : 'lg'}\n      shadow={noShadow ? 'none' : 'sm'}\n      style={{\n        ...style,\n        position: 'relative',\n        backgroundColor: 'var(--mantine-color-body)',\n      }}\n    >\n      <form onSubmit={form.onSubmit(handleSubmit)}>\n        <LoadingOverlay visible={loading} />\n        {formType === 'register' && (\n          <Group grow>\n            <TextInput\n              data-autofocus\n              required\n              placeholder=\"Your first name\"\n              label=\"First name\"\n              {...form.getInputProps('firstName')}\n            />\n\n            <TextInput\n              required\n              placeholder=\"Your last name\"\n              label=\"Last name\"\n              {...form.getInputProps('lastName')}\n            />\n          </Group>\n        )}\n\n        <TextInput\n          mt=\"md\"\n          required\n          placeholder=\"Your email\"\n          label=\"Email\"\n          leftSection={<IconAt size={16} stroke={1.5} />}\n          {...form.getInputProps('email')}\n        />\n\n        <PasswordInput\n          mt=\"md\"\n          required\n          placeholder=\"Password\"\n          label=\"Password\"\n          leftSection={<IconLock size={16} stroke={1.5} />}\n          {...form.getInputProps('password')}\n        />\n\n        {formType === 'register' && (\n          <PasswordInput\n            mt=\"md\"\n            required\n            label=\"Confirm Password\"\n            placeholder=\"Confirm password\"\n            leftSection={<IconLock size={16} stroke={1.5} />}\n            {...form.getInputProps('confirmPassword')}\n          />\n        )}\n\n        {formType === 'register' && (\n          <Checkbox\n            mt=\"xl\"\n            label=\"I agree to sell my soul and privacy to this corporation\"\n            {...form.getInputProps('termsOfService', { type: 'checkbox' })}\n          />\n        )}\n\n        {error && (\n          <Text c=\"red\" size=\"sm\" mt=\"sm\">\n            {error}\n          </Text>\n        )}\n\n        {!noSubmit && (\n          <Group justify=\"space-between\" mt=\"xl\">\n            <Anchor component=\"button\" type=\"button\" c=\"dimmed\" onClick={toggleFormType} size=\"sm\">\n              {formType === 'register'\n                ? 'Have an account? Login'\n                : \"Don't have an account? Register\"}\n            </Anchor>\n\n            <Button color=\"blue\" type=\"submit\">\n              {formType === 'register' ? 'Register' : 'Login'}\n            </Button>\n          </Group>\n        )}\n      </form>\n    </Paper>\n  );\n}\n"],"names":[],"mappings":"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"}