{"version":3,"file":"ConfiguratorDemo.js","sources":["../../src/ConfiguratorDemo/ConfiguratorDemo.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Stack } from '@mantine/core';\nimport { DemoAreaProps } from '../DemoArea';\nimport { DemoCode } from '../DemoCode';\nimport { DemoColumns } from '../DemoColumns';\nimport { DemoRoot } from '../DemoRoot';\nimport {\n  ConfiguratorBooleanControl,\n  ConfiguratorSegmentedControl,\n  ConfiguratorColorControl,\n  ConfiguratorStringControl,\n  ConfiguratorSelectControl,\n  ConfiguratorSizeControl,\n  ConfiguratorNumberControl,\n  ConfiguratorBooleanControlOptions,\n  ConfiguratorSegmentedControlOptions,\n  ConfiguratorColorControlOptions,\n  ConfiguratorStringControlOptions,\n  ConfiguratorSelectControlOptions,\n  ConfiguratorSizeControlOptions,\n  ConfiguratorNumberControlOptions,\n} from './controls';\nimport { injectProps } from './inject-props';\nimport { clearProps } from './clear-props';\nimport classes from './ConfiguratorDemo.module.css';\n\nconst ControlComponents = {\n  boolean: ConfiguratorBooleanControl,\n  segmented: ConfiguratorSegmentedControl,\n  color: ConfiguratorColorControl,\n  string: ConfiguratorStringControl,\n  select: ConfiguratorSelectControl,\n  size: ConfiguratorSizeControl,\n  number: ConfiguratorNumberControl,\n};\n\nexport type ConfiguratorControlOptions =\n  | ConfiguratorBooleanControlOptions\n  | ConfiguratorSegmentedControlOptions\n  | ConfiguratorColorControlOptions\n  | ConfiguratorStringControlOptions\n  | ConfiguratorSelectControlOptions\n  | ConfiguratorSizeControlOptions\n  | ConfiguratorNumberControlOptions;\n\nexport interface ConfiguratorDemoProps extends DemoAreaProps {\n  code: string | ((props: Record<string, any>) => string);\n  controls: ConfiguratorControlOptions[];\n}\n\nexport function ConfiguratorDemo({\n  code,\n  controls,\n  children,\n  centered,\n  maxWidth,\n  minHeight,\n  withPadding,\n  dimmed,\n  striped,\n}: ConfiguratorDemoProps) {\n  const initialState = controls.reduce<Record<string, any>>((acc, control) => {\n    acc[control.prop] = control.initialValue;\n    return acc;\n  }, {});\n\n  const [state, setState] = useState(initialState);\n  const setStateField = (field: string, value: any) =>\n    setState((current) => ({ ...current, [field]: value }));\n\n  const items = controls.map((control) => {\n    const ControlComponent = ControlComponents[control.type] as any;\n    const { initialValue, libraryValue, ...rest } = control;\n    return (\n      <ControlComponent\n        key={control.prop}\n        value={state[control.prop]}\n        onChange={(value: any) => setStateField(control.prop, value)}\n        {...rest}\n      />\n    );\n  });\n\n  return (\n    <DemoRoot>\n      <DemoColumns\n        controls={\n          <Stack className={classes.controls} gap=\"sm\">\n            {items}\n          </Stack>\n        }\n        centered={centered}\n        withPadding={withPadding}\n        maxWidth={maxWidth}\n        minHeight={minHeight}\n        dimmed={dimmed}\n        striped={striped}\n      >\n        {React.cloneElement(children as JSX.Element, state)}\n      </DemoColumns>\n      <DemoCode\n        code={[\n          {\n            fileName: 'Demo.tsx',\n            language: 'tsx',\n            code:\n              typeof code === 'function'\n                ? code(clearProps(controls, state))\n                : injectProps(clearProps(controls, state), code),\n          },\n        ]}\n      />\n    </DemoRoot>\n  );\n}\n"],"names":["ConfiguratorBooleanControl","ConfiguratorSegmentedControl","ConfiguratorColorControl","ConfiguratorStringControl","ConfiguratorSelectControl","ConfiguratorSizeControl","ConfiguratorNumberControl","useState","React","DemoRoot","DemoColumns","Stack","classes","DemoCode","clearProps","injectProps"],"mappings":"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"}